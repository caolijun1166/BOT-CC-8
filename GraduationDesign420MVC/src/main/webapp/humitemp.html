<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>实时温湿度数据</title>
<link rel="stylesheet" type="text/css" href="bootstrap3/css/bootstrap.min.css">
<!-- 自己的css -->
<link rel="stylesheet" type="text/css" href="botcc/css/my.css">
	<script type="text/javascript">
		var xmlHttp;
		function gethumitemp(){
			//alert("1");	
			if (window.XMLHttpRequest) {
				xmlHttp = new XMLHttpRequest();
			}
			else{
				xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			//alert("2");
				xmlHttp.open("GET","sensor/getSensorData",true);
				//alert("3");
				xmlHttp.onreadystatechange = handle;
				//alert("4");
				xmlHttp.send();
		}

		function handle(){
			if(xmlHttp.readyState == 4){
				if(xmlHttp.status == 200){
					document.getElementById("temp").innerHTML=xmlHttp.responseText.split(";")[0].split("\"")[1]+"℃";
					document.getElementById("humi").innerHTML=xmlHttp.responseText.split(";")[1].split("\"")[0]+"%";
				}
			}
		}
	</script>
</head>
<body>
	<!-- 页头 -->
    <div class="page-header">
        <h1>BOT-CC Graduation Design
        <img src="botcc/pictures/logo.jpg" alt="logo" width="50px" height="50px">
        </h1>
        <!-- 导航条 -->
		<ul class="nav nav-pills">
	        <li role="presentation"><a href="index.html">主页</a></li>
	        <li role="presentation" class="active"><a href="humitemp.html">查看实时温湿度数据</a></li>
	        <li role="presentation"><a href="#">查看历史温湿度数据</a></li>
	        <!-- 下拉列表 -->
	       	<li role="presentation" class="dropdown">
			    <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
			      	我的帐号 <span class="caret"></span>
			    </a>
			    <ul class="dropdown-menu">
			    	<li><a href="login.html">登录</a></li>
			    	<li role="separator" class="divider"></li>
			    	<li><a href="register.html">注册</a>
			    </ul>
  			</li>
	    </ul>
    </div>
    <!-- 路径导航条 -->
	<ol class="breadcrumb">
		<li><a href="index.html">主页</a></li>
		<li class="active"><a href="humitemp.html">实时温湿度数据</a></li>
	</ol>
	
	<script type="text/javascript">
		var int=setInterval("gethumitemp()",50);
	</script>
	<div>
		<span>当前温度：</span>
		<span id="temp"></span><br>
		<span>当前湿度：</span>
		<span id="humi"></span>
	</div>
	
<!-- 页脚 -->
<footer id="footer" onload="">
	<hr>
	<div class="col-md-2 col-md-offset-5">
		Crated by 曹礼俊 14111800420
	</div>
</footer>
    <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="bootstrap3/js/bootstrap.min.js"></script>
</body>
</html>